{"version":3,"sources":["logo.svg","features/Auth/constants.js","features/Auth/reducer.js","features/Products/constants.js","features/Products/reducer.js","features/Cart/constants.js","features/Cart/reducer.js","app/store.js","config.js","app/listener.js","features/Cart/actions.js","api/cart.js","pages/Home/menus.js","components/StoreLogo/index.js","components/Topbar/index.js","api/products.js","features/Products/actions.js","pages/Home/tags.js","utils/sum-price.js","utils/format-rupiah.js","components/Cart/index.js","pages/Home/index.js","pages/Register/validation.js","api/auth.js","pages/Register/index.js","pages/RegisterSuccess/index.js","features/Auth/actions.js","pages/Login/validation.js","pages/Login/index.js","api/delivery-address.js","hooks/address.js","api/order.js","pages/Checkout/index.js","pages/UserAddressAdd/validations.js","components/SelectWilayah/index.js","pages/UserAddressAdd/index.js","pages/UserAddress/index.js","api/invoice.js","components/StatusLabel/index.js","pages/Invoice/index.js","pages/UserAccount/index.js","pages/UserOrders/index.js","pages/Logout/index.js","components/GuardRoute/index.js","components/GuestOnlyRoute/index.js","App.js","reportWebVitals.js","index.js"],"names":["USER_LOGIN","USER_LOGOUT","initialState","localStorage","getItem","JSON","parse","user","token","START_FETCHING_PRODUCT","ERROR_FETCHING_PRODUCT","SUCCESS_FETCHING_PRODUCT","SET_CATEGORY","SET_KEYWORD","SET_TAGS","SET_PAGE","NEXT_PAGE","PREV_PAGE","TOGGLE_TAG","statuslist","data","currentPage","totalItems","perPage","keyword","category","tags","status","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEMS","SET_ITEMS","composerEnhancer","window","_REDUX_DEVTOOLS_EXTENTION_COMPOSE","compose","rootReducers","combineReducers","auth","state","action","type","products","includes","tag","filter","cart","find","item","_id","map","qty","items","store","createStore","applyMiddleware","thunk","dotenv","config","currentAuth","currentCart","process","account_no","bank_name","addItem","clearItems","setItems","saveCart","a","axios","put","headers","authorization","get","error","dispatch","listener","previousAuth","previousCart","getState","setItem","stringify","menus","icon","label","id","StoreLogo","to","className","TopBar","useSelector","desktop","justify","full_name","color","FaUser","debounceFetchProducts","debounce","successFecthingProducts","count","utama","pastry","snack","minuman","sumPrice","reduce","acc","curr","price","formatRupiah","number","Intl","NumberFormat","maximumSignificantDigits","style","currency","format","Cart","onItemInc","onItemDec","onCheckout","total","as","text","fitContainer","iconAfter","disabled","length","onClick","index","imgUrl","image_url","name","onInc","_","onDec","Home","history","useHistory","useDispatch","useEffect","params","limit","skip","q","sidebar","verticalAlign","active","onChange","setCategory","content","fullRound","value","placeholder","e","target","slice","toUpperCase","isActive","toggleTag","product","title","onAddToCart","page","setPage","onNext","onPrev","removeItem","push","sidebarSize","rules","required","message","maxLength","pattern","registerUser","post","login","email","password","logout","then","response","statusList","Register","useForm","register","handleSubmit","errors","setError","useState","setStatus","onSubmit","FormData","password_confirmation","Object","keys","fields","forEach","field","size","errorMessage","ref","RegisterSuccess","userLogin","Login","getAddress","createAddress","payload","useAddressData","setData","setCount","setLimit","fecthAddress","useCallback","getOrders","createOrder","IconWrapper","children","steps","columns","Header","accessor","src","alt","width","addressColumns","alamat","nama","provinsi","kabupaten","kecamatan","kelurahan","detail","Checkout","activeStep","setActiveStep","selectedAddress","setSelectedAddress","delivery_fee","delivery_address","console","log","showPagination","onPageChange","isLoading","selectable","primaryKey","selectedRow","onSelectRow","tablet","mobile","iconBefore","parseInt","minLength","SelectWilayah","tingkat","kodeInduk","isFetching","setIsFetching","finally","options","wilayah","kode","isDisabled","UserAddressAdd","setValue","watch","getValues","allFields","updateValue","shouldValidate","shouldDirty","formData","nama_alamat","detail_alamat","option","defaultProps","UserAddress","order_id","StatusLabel","Invoice","invoice","setInvoice","useRouteMatch","getInvoiceByOrderId","payment_status","order","order_number","url","UserAccount","menu","header","body","order_items","UserOrders","pesanan","setPesanan","fetchPesanan","Logout","GuardRoute","rest","GuestOnlyRoute","App","subscribe","getCart","path","component","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5cfc2fc2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","export const USER_LOGIN = 'features/Auth/USER_LOGIN';\r\nexport const USER_LOGOUT = 'features/Auth/USER_LOGOUT';","import { USER_LOGIN, USER_LOGOUT } from './constants';\r\n\r\nlet initialState =\r\n        localStorage.getItem('auth')\r\n        ? JSON.parse(localStorage.getItem('auth'))\r\n        : {user: null, token: null};\r\n\r\nexport default function reducer(state = initialState, action){\r\n\r\n    switch (action.type) {\r\n        case USER_LOGIN:\r\n            \r\n            return {user: action.user, token: action.token};\r\n\r\n        case USER_LOGOUT:\r\n            \r\n            return {user: null, token: null};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","export const START_FETCHING_PRODUCT = 'features/Products/START_FETCHING_PRODUCT';\r\nexport const ERROR_FETCHING_PRODUCT = 'features/Products/ERROR_FETCHING_PRODUCT';\r\nexport const SUCCESS_FETCHING_PRODUCT = 'features/Products/SUCCESS_FETCHING_PRODUCT';\r\n\r\nexport const SET_CATEGORY = 'features/Products/SET_CATEGORY';\r\nexport const SET_KEYWORD = 'features/Products/SET_KEYWORD';\r\nexport const SET_TAGS = 'features/Products/SET_TAGS';\r\n\r\nexport const SET_PAGE = 'features/Products/SET_PAGE';\r\nexport const NEXT_PAGE = 'features/Products/NEXT_PAGE';\r\nexport const PREV_PAGE = 'features/Products/PREV_PAGE';\r\nexport const TOGGLE_TAG = 'features/Products/TOGGLE_TAG';","import {\r\n\r\n    START_FETCHING_PRODUCT,\r\n    ERROR_FETCHING_PRODUCT,\r\n    SUCCESS_FETCHING_PRODUCT,\r\n    SET_PAGE,\r\n    SET_CATEGORY,\r\n    SET_KEYWORD,\r\n    SET_TAGS,\r\n    NEXT_PAGE,\r\n    PREV_PAGE,\r\n    TOGGLE_TAG\r\n\r\n } from \"./constants\";\r\n\r\nconst statuslist = {\r\n    idle : 'idle',\r\n    process : 'process',\r\n    success : 'success',\r\n    error : 'error'\r\n} \r\n\r\nlet initialState = \r\n       {\r\n           data :[],\r\n           currentPage : 1,\r\n           totalItems : -1,\r\n           perPage : 6,\r\n           keyword : '',\r\n           category : '',\r\n           tags :[],\r\n           status : statuslist.idle\r\n       }\r\n\r\nexport default function reducer(state = initialState, action) {\r\n    \r\n    switch (action.type) {\r\n        case START_FETCHING_PRODUCT:       \r\n            return {...state, status : statuslist.process};\r\n\r\n        case ERROR_FETCHING_PRODUCT:       \r\n            return {...state, status : statuslist.error};\r\n\r\n        case SUCCESS_FETCHING_PRODUCT:       \r\n            return {...state, status : statuslist.success, data : action.data, totalItems : action.data};\r\n\r\n        case SET_PAGE:       \r\n            return {...state, currentPage: action.currentPage};\r\n        \r\n        case SET_KEYWORD:       \r\n            return {...state, keyword: action.keyword, category : '', tags : []};\r\n\r\n        case SET_CATEGORY:       \r\n            return {...state, currentPage : 1, keyword: '', category : action.category, tags : []};\r\n\r\n        case SET_TAGS:       \r\n            return {...state, tags : action.tags};\r\n\r\n        case TOGGLE_TAG:\r\n            if (!state.tags.includes(action.tag)) {\r\n\r\n                return {...state,currentPage:1, tags : [...state.tags,action.tag]};\r\n\r\n            } else {\r\n                \r\n                return {...state, currentPage: 1, tags : state.tags.filter(tag => tag !== action.tag)}\r\n            }       \r\n           \r\n        case NEXT_PAGE:       \r\n            return {...state, currentPage : state.currentPage + 1};\r\n\r\n        case PREV_PAGE:       \r\n            return {...state, currentPage : state.currentPage - 1};\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","export const ADD_ITEM = 'features/Cart/ADD_ITEM';\r\nexport const REMOVE_ITEM = 'features/Cart/REMOVE_ITEM';\r\nexport const CLEAR_ITEMS = 'features/Cart/CLEAR_ITEMS';\r\nexport const SET_ITEMS = 'features/Cart/SET_ITEMS';","import {\r\n    ADD_ITEM,\r\n    REMOVE_ITEM,\r\n    CLEAR_ITEMS,\r\n    SET_ITEMS\r\n} from \"./constants\";\r\n\r\nconst statuslist = {\r\n    idle : 'idle',\r\n    process : 'process',\r\n    success : 'success',\r\n    error : 'error'\r\n} \r\n\r\nlet initialState = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')): [];\r\n\r\nexport default function reducer(state = initialState, action) {\r\n    \r\n    switch (action.type) {\r\n\r\n        case ADD_ITEM:\r\n            if (state.find(item => item._id === action.item._id)) {\r\n                \r\n                return state.map(item => ({...item, qty: item._id === action.item._id ? item.qty + 1 : item.qty}))\r\n\r\n            } else {\r\n                \r\n                return [...state, { ...action.item, qty: 1 }];\r\n\r\n            }\r\n\r\n        case REMOVE_ITEM:       \r\n            return state.map(item => ({...item, qty: item._id === action.item._id ? item.qty -1 : item.qty})).filter(item => item.qty > 0)\r\n\r\n        case CLEAR_ITEMS:       \r\n            return [];\r\n\r\n        case SET_ITEMS:       \r\n            return action.items;\r\n        \r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}","// import redux\r\nimport { combineReducers, createStore, applyMiddleware, compose } from 'redux';\r\n\r\n// import redux-thunk\r\nimport thunk from 'redux-thunk';\r\n\r\nimport authReducer from '../features/Auth/reducer';\r\n\r\nimport productReducer from '../features/Products/reducer';\r\n\r\nimport cartReducer from '../features/Cart/reducer';\r\n\r\n// membuat composer enhencer untuk menghubungakan ke devtools\r\nconst composerEnhancer = window._REDUX_DEVTOOLS_EXTENTION_COMPOSE || compose;\r\n\r\n// gabung reducer\r\nconst rootReducers = combineReducers({\r\n    auth: authReducer,\r\n    products: productReducer,\r\n    cart: cartReducer\r\n});\r\n\r\n// buat store\r\nconst store = createStore(rootReducers, composerEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;","import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst config = {\r\n    api_host: process.env.REACT_APP_API_HOST,\r\n    site_title: process.env.REACT_APP_SITE_TITLE,\r\n    global_ongkir: process.env.REACT_APP_GLOBAL_ONGKIR,\r\n    owner: process.env.REACT_APP_OWNER,\r\n    contact: process.env.REACT_APP_CONTACT,\r\n    billing: {\r\n        account_no: process.env.REACT_APP_BILLING_NO,\r\n        bank_name: process.env.REACT_APP_BILLING_BANK\r\n    }\r\n};\r\n\r\nexport {config};","import store from './store';\r\nimport { saveCart } from \"../api/cart\";\r\n\r\n// variabel untuk menyimpan state auth\r\nlet currentAuth;\r\n\r\nlet currentCart;\r\n\r\n// let { token } = store.getState().auth;\r\n\r\nfunction listener(){\r\n\r\n    // membuat variable prevAuth akan diberikan currentAuth sebagai nilainya\r\n    let previousAuth = currentAuth;\r\n\r\n    let previousCart = currentCart;\r\n\r\n    // update nilai currentAuth dari nilai state terbaru\r\n    currentAuth = store.getState().auth;\r\n\r\n    currentCart = store.getState().cart;\r\n\r\n    let { token } = currentAuth;\r\n\r\n    // cek apakah nilai state auth berubah dari nilai sebelumnya atau tidak\r\n    if(currentAuth !== previousAuth){\r\n        \r\n        // jika ada perubahan maka simpan ke lokal storage\r\n        localStorage.setItem('auth', JSON.stringify(currentAuth));\r\n\r\n        // jika auth berubah\r\n        saveCart(token, currentCart);\r\n    }\r\n\r\n    if(currentCart !== previousCart){\r\n        localStorage.setItem('cart', JSON.stringify(currentCart));\r\n\r\n        // jika cart berubah\r\n        saveCart(token, currentCart);\r\n    }\r\n\r\n}\r\n\r\nfunction listen(){\r\n\r\n    // jika mendengar perubahan\r\n    store.subscribe(listener)\r\n\r\n}\r\n\r\nexport {listen};","import {\r\n\r\n    ADD_ITEM,\r\n    REMOVE_ITEM,\r\n    CLEAR_ITEMS,\r\n    SET_ITEMS\r\n\r\n } from \"./constants\";\r\n\r\nexport function addItem(item){\r\n\r\n    return {\r\n        type: ADD_ITEM,\r\n        item\r\n    }\r\n\r\n}\r\n\r\nexport function removeItem(item){\r\n\r\n    return {\r\n        type: REMOVE_ITEM,\r\n        item\r\n    }\r\n\r\n}\r\n\r\nexport function clearItems(){\r\n\r\n     return {\r\n        type: CLEAR_ITEMS\r\n    }\r\n\r\n}\r\n\r\nexport function setItems(items){\r\n\r\n     return {\r\n        type: SET_ITEMS,\r\n        items\r\n    }\r\n\r\n}","import axios from 'axios';\r\n\r\nimport { config } from \"../config\";\r\nimport store from '../app/store';\r\nimport { setItems } from \"../features/Cart/actions\";\r\n\r\nexport async function saveCart(token, cart){\r\n\r\n    return await axios.put(`${config.api_host}/api/carts`, {items: cart},{ headers: {\r\n        authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}\r\n\r\nexport async function getCart(){\r\n\r\n    let { token } = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    if(!token) return ;\r\n\r\n    let { data } = await axios.get(`${config.api_host}/api/carts`, {\r\n        headers : {\r\n            authorization : `Bearer ${token}`\r\n        }\r\n    });\r\n\r\n    if(!data.error){\r\n        store.dispatch(setItems(data));\r\n    }\r\n\r\n}","const menus = [\r\n    {\r\n        icon: '/image/menus/semua.png',\r\n        label: 'semua',\r\n        id: ''\r\n    },\r\n\r\n    {\r\n        icon: '/image/menus/utama.png',\r\n        label: 'utama',\r\n        id: 'utama'\r\n    },\r\n\r\n    {\r\n        icon: '/image/menus/minuman.png',\r\n        label: 'minuman',\r\n        id: 'minuman'\r\n    },\r\n\r\n    {\r\n        icon: '/image/menus/snack.png',\r\n        label: 'snack',\r\n        id: 'snack'\r\n    },\r\n\r\n    {\r\n        icon: '/image/menus/pastry.png',\r\n        label: 'pastry',\r\n        id: 'pastry'\r\n    }\r\n];\r\n\r\nexport default menus;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { config } from \"../../config\";\r\n\r\n\r\nexport default function StoreLogo() {\r\n    return (\r\n        <Link to=\"/\">\r\n            <div className=\"text-blue-600 font-bold text-4xl\">\r\n                {config.site_title}\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { Responsive, ButtonCircle } from \"upkit\";\r\nimport { Link } from 'react-router-dom';\r\nimport FaUser from \"@meronex/icons/fa/FaUser\";\r\n\r\nimport StoreLogo from '../StoreLogo';\r\n\r\nexport default function TopBar() {\r\n\r\n    // mendapatkan state auth\r\n    let auth = useSelector(state => state.auth);\r\n    \r\n    return (\r\n        <Responsive desktop={2} justify=\"between\" items=\"center\">\r\n\r\n            <div>\r\n                <StoreLogo />\r\n            </div>\r\n\r\n            <div className=\"mr-5 text-right\">\r\n                <Link to={ auth?.user ? '/account' : '/login' }>\r\n                    <div className=\"mr-2 inline-block text-blue-600 font-bold\">\r\n                        { auth?.user?.full_name }\r\n                    </div>\r\n\r\n                    <ButtonCircle color=\"blue\" icon={FaUser} />\r\n                </Link>\r\n            </div>\r\n            \r\n        </Responsive>\r\n    )\r\n}\r\n","import axios from 'axios';\r\n\r\nimport { config } from '../config';\r\n\r\nexport async function getProducts(data){\r\n    return await axios.get(`${config.api_host}/api/products`, data);\r\n}\r\n\r\nexport async function login(email, password){\r\n    return await axios.post(`${config.api_host}/auth/login`, {email, password});\r\n}\r\n\r\nexport async function logout(){\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')): {};\r\n\r\n    return await axios.post(`${config.api_host}/auth/logout`, null, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then((response) => {\r\n        localStorage.removeItem('auth');\r\n        return response;\r\n    })\r\n}","import {\r\n\r\n    START_FETCHING_PRODUCT,\r\n    ERROR_FETCHING_PRODUCT,\r\n    SUCCESS_FETCHING_PRODUCT,\r\n    SET_PAGE,\r\n    SET_CATEGORY,\r\n    SET_KEYWORD,\r\n    SET_TAGS,\r\n    NEXT_PAGE,\r\n    PREV_PAGE,\r\n    TOGGLE_TAG\r\n\r\n } from \"./constants\";\r\n\r\nimport { getProducts } from \"../../api/products\";\r\nimport debounce from \"debounce-promise\";\r\n\r\nlet debounceFetchProducts = debounce(getProducts, 1000);\r\n\r\nexport function starFecthingProducts() {\r\n    return {\r\n        type :START_FETCHING_PRODUCT,\r\n        \r\n    }\r\n}\r\n\r\nexport function errorFecthingProducts() {\r\n    return {\r\n        type : ERROR_FETCHING_PRODUCT\r\n    }\r\n}\r\n\r\nexport function successFecthingProducts({data , count}) {\r\n    return {\r\n        type : SUCCESS_FETCHING_PRODUCT,\r\n        data,\r\n        count\r\n    }\r\n}\r\n\r\nexport const fetchProducts = () =>{\r\n    return async function (dispatch , getState) {\r\n        // mendapatkan data di api get all\r\n        dispatch(starFecthingProducts());\r\n\r\n        let perPage = getState().products.perPage || 9;\r\n        let currentPage = getState().products.currentPage || 1;\r\n        let tags = getState().products.tags || [];\r\n        let keyword = getState().products.keyword || '';\r\n        let category = getState().products.category || '';\r\n\r\n        const params = {\r\n            limit : perPage,\r\n            skip : (currentPage * perPage) - perPage,\r\n            q : keyword,\r\n            tags,\r\n            category\r\n        }\r\n        \r\n        try {\r\n            \r\n            let { data : {data , count} } = await debounceFetchProducts({params});\r\n            dispatch(successFecthingProducts({data , count}));\r\n        } catch (error) {\r\n            \r\n            dispatch(errorFecthingProducts())\r\n        }\r\n    }\r\n}\r\n\r\nexport const setPage = (number = 1) =>{\r\n    return {\r\n        type : SET_PAGE,\r\n        currentPage :  number\r\n    }\r\n}\r\n\r\nexport const setKeyword = keyword =>{\r\n    return {\r\n        type : SET_KEYWORD,\r\n        keyword\r\n    }\r\n}\r\n\r\nexport const setCategory = category =>{\r\n    return {\r\n        type : SET_CATEGORY,\r\n        category\r\n    }\r\n}\r\n\r\nexport const setTags = tags =>{\r\n    return {\r\n        type : SET_TAGS,\r\n        tags\r\n    }\r\n}\r\n\r\nexport const clearTags = () => {\r\n    return setTags([]);\r\n}\r\nexport const toggleTag = tag => {\r\n    return {\r\n        type : TOGGLE_TAG,\r\n        tag\r\n    }\r\n}\r\n\r\nexport const goToNextPage = () => {\r\n    return {\r\n        type : NEXT_PAGE\r\n    }\r\n}\r\n\r\nexport const goToPrevPage = () => {\r\n    return {\r\n        type : PREV_PAGE\r\n    }\r\n}","export const tags = {\r\n    '':[],\r\n    utama : ['burger','pizza','bread'],\r\n    pastry : ['cheese','strawberry','muffin'],\r\n    snack : ['fried','bread','cheese', 'coffe'],\r\n    minuman : ['coffe','tea','hot','cold'],\r\n}","export function sumPrice(items){\r\n    return items.reduce((acc, curr) => acc + (curr.price * curr.qty), 0)\r\n}","export function formatRupiah(number){\r\n\r\n    return new Intl.NumberFormat('id-ID', {maximumSignificantDigits: 2, style: 'currency', currency :'IDR'}).format(number)\r\n}","import React from 'react';\r\nimport { arrayOf, string, number, shape, oneOfType, func } from 'prop-types';\r\nimport { CardItem, Button, Text } from \"upkit\";\r\nimport { config } from '../../config';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaCartPlus from '@meronex/icons/fa/FaCartPlus';\r\nimport { sumPrice } from \"../../utils//sum-price\";\r\nimport { formatRupiah } from \"../../utils/format-rupiah\";\r\n\r\nexport default function Cart({items, onItemInc, onItemDec, onCheckout}) {\r\n\r\n    let total = sumPrice(items);\r\n    \r\n    return (\r\n        <div>\r\n\r\n            <div className=\"text-3xl flex items-center text-gray-600\">\r\n                <FaCartPlus />\r\n                <div className=\"ml-2\">\r\n                    Keranjang\r\n                </div>\r\n            </div>\r\n\r\n            <Text as=\"h5\">\r\n                Total : {formatRupiah(total)}\r\n            </Text>\r\n\r\n            <div className=\"px-2 border-b mt-5 pb-5\">\r\n                <Button\r\n                    text=\"Checkout\"\r\n                    fitContainer\r\n                    iconAfter={<FaArrowRight/>}\r\n                    disabled={!items.length}\r\n                    onClick={onCheckout}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"p-2\">\r\n                {!items.length ? <div className=\"text-center text-sm text-gray-800\">Belum ada items dalam keranjang.</div> : null }\r\n                {items.map((item, index) => {\r\n                    return <div key={index} className=\"mb-2\">\r\n                                <CardItem\r\n                                    imgUrl={`${config.api_host}/upload/${item.image_url}`}\r\n                                    name={item.name}\r\n                                    qty={item.qty}\r\n                                    color=\"gray\"\r\n                                    onInc={_ => onItemInc(item)}\r\n                                    onDec={_ => onItemDec(item)}\r\n                            />\r\n\r\n                    </div>\r\n                })}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nCart.propTypes = {\r\n    items: arrayOf(shape({\r\n        _id: string.isRequired,\r\n        name: string.isRequired,\r\n        qty: oneOfType([string, number]).isRequired\r\n    })),\r\n\r\n    onItemInc: func,\r\n    onItemDec: func,\r\n    onCheckout: func\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { SideNav, LayoutSidebar, Responsive, CardProduct, Pagination, InputText, Pill } from 'upkit';\r\nimport menus from './menus';\r\nimport Topbar from '../../components/Topbar'\r\nimport { config } from '../../config';\r\nimport { fetchProducts, goToNextPage, goToPrevPage, setKeyword, setPage, setCategory, toggleTag } from \"../../features/Products/actions\";\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\nimport { tags } from \"./tags\";\r\nimport Cart from '../../components/Cart';\r\nimport { addItem, removeItem } from \"../../features/Cart/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n\r\n    let history = useHistory();\r\n    let dispatch = useDispatch();\r\n    let products = useSelector(state => state.products);\r\n    let cart = useSelector(state => state.cart)\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchProducts())\r\n    }, [dispatch, products.currentPage, products.keyword, products.category, products.tags])\r\n\r\n    return (\r\n        <div>\r\n            <LayoutSidebar\r\n                sidebar={<SideNav color=\"blue\" items={menus} verticalAlign=\"top\" active={products.category} onChange={category => dispatch(setCategory(category))} />}\r\n                content={<div className=\"md:flex md:flex-row-reverse w-full mr-5 h-full min-h-screen\">\r\n\r\n                    <div className=\"w-full md:w-3/4 pl-5 pb-10\">\r\n                        <Topbar />\r\n                        \r\n                        <div className=\"w-full text-center mb-10 mt-5\">\r\n                            <InputText\r\n                                fullRound\r\n                                value={products.keyword}\r\n                                placeholder=\"Cari makanan yang kamu inginkan...\"\r\n                                fitContainer\r\n                                onChange={e => dispatch(setKeyword(e.target.value))}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"mb-5 pl-2 flex w-3/3 overflow-auto pb-5\">\r\n                            {tags[products.category].map((tag, index) => {\r\n                                return <div key={index}>\r\n                                    <Pill\r\n                                        text ={tag}\r\n                                        icon = {tag.slice(0,1).toUpperCase()}\r\n                                        isActive={products.tags.includes(tag)}\r\n                                        onClick={_=>dispatch(toggleTag(tag))}\r\n                                    \r\n                                    />\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n\r\n                        {products.status === 'process' && !products.data.length ?\r\n                            <div className=\"flex justify-center\">\r\n                                <BounceLoader color=\"blue\" />\r\n                            </div>\r\n                        : null}\r\n\r\n                        <Responsive desktop={3} items=\"stretch\">\r\n                            {products.data.map((product, index) => {\r\n                                return  <div key={index} className=\"p-2\">\r\n                                    <CardProduct\r\n                                    color=\"blue\"\r\n                                            title={product.name}\r\n                                            imgUrl={`${config.api_host}/upload/${product.image_url}`}\r\n                                            price={product.price}\r\n                                            onAddToCart={_ => dispatch(addItem(product))}\r\n                                        />\r\n                       </div>\r\n                       })}\r\n                       \r\n                   </Responsive>\r\n\r\n                       <div className=\"text-center my-10\">\r\n                           <Pagination\r\n                                totalItems={products.totalItems}\r\n                                page={products.currentPage}\r\n                                perPage={products.perPage}\r\n                                onChange={_ => dispatch(setPage(products.page))}\r\n                                onNext={_ => dispatch(goToNextPage())}\r\n                                onPrev={_ => dispatch(goToPrevPage())}\r\n                           />\r\n                       </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"w-full md:w-1/4 h-full shadow-lg border-r border-white bg-gray-100\">\r\n                        <Cart items={cart}\r\n                            onItemDec={item => dispatch(removeItem(item))}\r\n                            onItemInc={item => dispatch(addItem(item))}\r\n                            onCheckout={_ => history.push(\"/checkout\")}\r\n                        />\r\n                    </div>\r\n\r\n                </div>}\r\n                sidebarSize={80}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","const rules = {\r\n\r\n    full_name: {\r\n        required: {value: true, message: 'Nama lengkap harus diisi'},\r\n        maxLength: {value: 500, message: 'Nama lengkap maksimal 500 karakter'}\r\n    },\r\n\r\n    email: {\r\n        required: {value: true, message: 'Email harus diisi'},\r\n        maxLength: {value: 255, message: 'Email maksimal 255 karakter'},\r\n        pattern: {value: /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/, message: 'Email tidak valid'}\r\n    },\r\n\r\n    password: {\r\n        required: {value: true, message: 'Password harus diisi'},\r\n        maxLength: {value: 255, message: 'Password maksimal 255 karakter'}\r\n    },\r\n\r\n    password_confirmation: {\r\n        required: {value: true, message: 'Konfirmasi password harus diisi'}\r\n    }\r\n\r\n};\r\n\r\nexport { rules };","import axios from 'axios';\r\n\r\nimport { config } from '../config';\r\n\r\nexport async function registerUser(data){\r\n    return await axios.post(`${config.api_host}/auth/register`, data);\r\n}\r\n\r\nexport async function login(email, password){\r\n    return await axios.post(`${config.api_host}/auth/login`, {email, password});\r\n}\r\n\r\nexport async function logout(){\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')): {};\r\n\r\n    return await axios.post(`${config.api_host}/auth/logout`, null, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then((response) => {\r\n        localStorage.removeItem('auth');\r\n        return response;\r\n    })\r\n}","import React, {useState} from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { LayoutOne, Card, InputText, InputPassword, FormControl, Button } from \"upkit\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { rules } from \"./validation\";\r\nimport { registerUser } from \"../../api/auth\";\r\nimport StoreLogo from \"../../components/StoreLogo\";\r\n\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n};\r\n\r\nexport default function Register(){\r\n\r\n    // mengeluarkan fungsi register, handleSubmit, error dari useForm\r\n    let {register, handleSubmit, errors, setError} = useForm();\r\n\r\n    // state status dengan nilai default 'statuslist.idle'\r\n    const [status, setStatus] = useState(statusList.idle);\r\n\r\n    let history = useHistory();\r\n\r\n    // fungsi menangani form submit\r\n    const onSubmit = async FormData => {\r\n\r\n        let { password, password_confirmation } = FormData;\r\n\r\n        // cek equality pass vs pass confirm\r\n        if(password !== password_confirmation){\r\n            return setError('password_confirmation', {type: 'uquality', message: 'Password tidak sama'});\r\n        }\r\n\r\n        // set status = process\r\n        setStatus(statusList.process);\r\n\r\n        // alert(JSON.stringify(FormData))\r\n        let { data } = await registerUser(FormData);\r\n\r\n        // cek apakah ada error\r\n        if(data.error){\r\n\r\n            // dapatkan fields terkait jika error\r\n            let fields = Object.keys(data.fields);\r\n\r\n            // untuk masing masing field kita terapkan error dan tangkap pesan errornya\r\n            fields.forEach(field => {\r\n                setError(field, {type: 'server', message: data.fields[field]?.message})\r\n            })\r\n\r\n            // setStatus = error\r\n            setStatus(statusList.error);\r\n            return;\r\n\r\n        }\r\n\r\n        // setSatus = success\r\n        setStatus(statusList.success);\r\n\r\n        // redirect ke register/berhasil\r\n        history.push('/register/berhasil');\r\n    };\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n                <div className=\"text-center mb-5\">\r\n                    <StoreLogo/>\r\n                </div>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <FormControl errorMessage={errors.full_name?.message}>\r\n                        <InputText name=\"full_name\" placeholder=\"Nama Lengkap\" fitContainer ref={register(rules.full_name)} />\r\n                    </FormControl>\r\n\r\n                    <FormControl errorMessage={errors.email?.message}>\r\n                        <InputText name=\"email\" placeholder=\"Email\" fitContainer ref={register(rules.email)} />\r\n                    </FormControl>\r\n\r\n                    <FormControl errorMessage={errors.password?.message}>\r\n                        <InputPassword name=\"password\" placeholder=\"Password\" fitContainer ref={register(rules.password)} />\r\n                    </FormControl>\r\n\r\n                    <FormControl  errorMessage={errors.password_confirmation?.message}>\r\n                        <InputPassword name=\"password_confirmation\" placeholder=\"Konfirmasi Password\" fitContainer ref={register(rules.password_confirmation)} />\r\n                    </FormControl>\r\n\r\n                    <Button size=\"large\" fitContainer disabled={status === statusList.process}>\r\n                        {status === statusList.process ? 'Sedang memproses' : 'Daftar'}\r\n                    </Button>\r\n                </form>\r\n\r\n                <div className=\"text-center mt-2\">\r\n                    Sudahkah anda memiliki akun ? <Link to=\"/login\"><b>Masuk sekarang</b></Link>\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}","import React from 'react';\r\nimport { Card, LayoutOne, Text, Button } from \"upkit\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function RegisterSuccess() {\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n                <div className=\"text-center\">\r\n                    <Text as=\"h3\">\r\n                        Pendaftaran Berhasil.\r\n                    </Text>\r\n                    <Text>\r\n                        Silahkan masuk ke aplikasi!\r\n                    </Text>\r\n\r\n                    <br/>\r\n                    <Link to=\"/login\">\r\n                        <Button fitContainer>\r\n                            Masuk\r\n                        </Button>\r\n                    </Link>\r\n\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import { USER_LOGIN, USER_LOGOUT } from './constants';\r\n\r\n// action use login\r\nexport function userLogin(user, token){\r\n    return {\r\n        type: USER_LOGIN,\r\n        user,\r\n        token\r\n    }\r\n};\r\n\r\n// action use logout\r\nexport function userLogout(){\r\n    return {\r\n        type: USER_LOGOUT\r\n    }\r\n};","const rules = {\r\n\r\n    email: {\r\n        required: {value: true, message: 'Email harus diisi'},\r\n        maxLength: {value: 255, message: 'Email maksimal 255 karakter'},\r\n        pattern: {value: /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/, message: 'Email tidak valid'}\r\n    },\r\n\r\n    password: {\r\n        required: {value: true, message: 'Password harus diisi'},\r\n        maxLength: {value: 255, message: 'Password maksimal 255 karakter'}\r\n    }\r\n\r\n};\r\n\r\nexport { rules };","import React, {useState} from 'react';\r\nimport { InputText, InputPassword, Button, FormControl, Card, LayoutOne } from \"upkit\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useHistory, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport StoreLogo from '../../components/StoreLogo';\r\nimport { userLogin } from \"../../features/Auth/actions\";\r\nimport { rules } from \"./validation\";\r\nimport { login } from \"../../api/auth\";\r\n\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n};\r\n\r\nexport default function Login() {\r\n\r\n    const { register, handleSubmit, errors, setError } = useForm();\r\n    const [status, setStatus] = useState(statusList.idle);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const onSubmit = async ({email, password}) => {\r\n\r\n        setStatus(statusList.process);\r\n\r\n        // kirim data ke helper login\r\n        let { data } = await login(email, password);\r\n\r\n        // cek apakah server balikin error atau tidak\r\n        if(data.error){\r\n\r\n            // tangani error tipenya invalidCredential\r\n            setError('password', {type: 'invalidCredential', message: data.message});\r\n\r\n            setStatus(statusList.error);\r\n        }else{\r\n            \r\n            // ambil data user dan token\r\n            let { user, token } = data;\r\n\r\n            // dispatch ke redux store soalnya ada action userLogin dengan data user dan token\r\n            dispatch(userLogin(user, token));\r\n\r\n            history.push('/');\r\n        }\r\n\r\n        setStatus(statusList.success);\r\n    }\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n                <div className=\"text-center mb-5\">\r\n                    <StoreLogo/>\r\n                </div>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <FormControl errorMessage={errors.email?.message}>\r\n                        <InputText name=\"email\" placeholder=\"Email\" fitContainer ref={register(rules.email)} />\r\n                    </FormControl>\r\n\r\n                    <FormControl errorMessage={errors.password?.message}>\r\n                        <InputPassword name=\"password\" placeholder=\"Password\" fitContainer ref={register(rules.password)} />\r\n                    </FormControl>\r\n\r\n                    <Button size=\"large\" fitContainer disabled={status === statusList.process}>\r\n                        Masuk\r\n                    </Button>\r\n                </form>\r\n\r\n                <div className=\"text-center mt-2\">\r\n                    Belum memiliki akun ? <Link to=\"/register\"><b>Daftar sekarang</b></Link>\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import axios from 'axios'\r\n\r\nimport { config } from \"../config\";\r\n\r\nexport async function getAddress(params) {\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n \r\n    return await axios.get(`${config.api_host}/api/delivery-addresses`, {\r\n        params : {\r\n            limit : params.limit,\r\n            skip :  params.page * params.limit - params.limit \r\n        },\r\n        headers : {\r\n            authorization : `Bearer ${token}`\r\n        }\r\n    })\r\n}\r\n\r\nexport async function createAddress(payload) {\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(`${config.api_host}/api/delivery-addresses`, payload ,{\r\n        headers : {\r\n            authorization : `Bearer ${token}`\r\n        }\r\n    })\r\n}","import  React , {useState, useEffect, useCallback} from 'react'\r\nimport { getAddress } from \"../api/delivery-address\";\r\n\r\n\r\nconst statuslist = {\r\n    idle : 'idle',\r\n    process : 'process',\r\n    success : 'success',\r\n    error : 'error'\r\n} \r\n\r\n\r\nexport function useAddressData() {\r\n    const [data, setData] = useState([])\r\n    const [count, setCount] = useState(0)\r\n    const [status, setStatus] = useState(statuslist.idle)\r\n    const [page, setPage] = useState(1)\r\n    const [limit, setLimit] = useState(10);\r\n\r\n    let fecthAddress = useCallback(async function () {\r\n        setStatus(statuslist.process)\r\n\r\n        let {data : {data, count , error}} = await getAddress({page, limit});\r\n\r\n        if (error) {\r\n            setStatus(statuslist.error)\r\n            return\r\n        }\r\n\r\n        // jika sukses\r\n        setStatus(statuslist.success)\r\n        setData(data)\r\n        setCount(count)\r\n    }, [page, limit]); // sebgai depedensi\r\n\r\n    useEffect(() => {\r\n        fecthAddress();\r\n       \r\n    }, [fecthAddress]);\r\n\r\n    // mengembalikan local state dan beberapa fungsi \r\n\r\n    return {\r\n        data,\r\n        count,\r\n        status,\r\n        page,\r\n        limit,\r\n        setPage,\r\n        setLimit\r\n    }\r\n}","import axios from 'axios';\r\n\r\nimport { config } from \"../config\";\r\n\r\nexport async function getOrders(params){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')): {}\r\n    let {limit, page} = params;\r\n    let skip = (page * limit) - limit;\r\n\r\n    return await axios.get(`${config.api_host}/api/orders/`, {\r\n        params: {\r\n            skip,\r\n            limit\r\n        },\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}\r\n\r\nexport async function createOrder(payload){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')): {}\r\n\r\n    return await axios.post(`${config.api_host}/api/orders/`, payload, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}","import React, { useState } from 'react'\r\nimport { LayoutOne, Text, Steps , Table , Button, Responsive} from \"upkit\";\r\nimport Topbar from '../../components/Topbar'\r\nimport FaCartPlus from '@meronex/icons/fa/FaCartPlus';\r\nimport FaAddressCard from '@meronex/icons/fa/FaAddressCard';\r\nimport FaInfoCircle from '@meronex/icons/fa/FaInfoCircle';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaArrowLeft from '@meronex/icons/fa/FaArrowLeft';\r\nimport FaRegCheckCircle from '@meronex/icons/fa/FaRegCheckCircle'\r\nimport { config } from \"../../config\";\r\nimport { formatRupiah } from \"../../utils/format-rupiah\";\r\nimport { sumPrice } from \"../../utils/sum-price\";\r\nimport { useAddressData } from \"../../hooks/address\";\r\nimport { Link , useHistory , Redirect } from \"react-router-dom\";\r\nimport { createOrder } from \"../../api/order\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearItems } from \"../../features/Cart/actions\";\r\n\r\nconst IconWrapper = ({children}) => {\r\n    return <div className=\"text-3xl flex justify-center\">\r\n        {children}\r\n    </div>\r\n}\r\n\r\nconst steps = [\r\n    { label : 'Item', icon : <IconWrapper><FaCartPlus/></IconWrapper>},\r\n    { label : 'Alamat', icon : <IconWrapper><FaAddressCard/></IconWrapper>},\r\n    { label : 'Konfirmasi', icon : <IconWrapper><FaInfoCircle/></IconWrapper>},\r\n];\r\n\r\n\r\nconst columns = [\r\n    {\r\n        Header : 'Nama Produk',\r\n        accessor : item => <div className=\"flex items-center\">\r\n            <img src={`${config.api_host}/upload/${item.image_url}`} alt={item.name} width={48} />\r\n            {item.name}\r\n        </div>\r\n    },\r\n    {\r\n        Header : 'Jumlah',\r\n        accessor : 'qty'\r\n    },\r\n    {\r\n        Header  :'Harga satuan',\r\n        id : 'price',\r\n        accessor  : item => <span>@ {formatRupiah(item.price)}</span>\r\n    },\r\n    {\r\n        Header : 'Harga Total',\r\n        id : 'subtotal',\r\n        accessor : item => {\r\n            return <div>\r\n                {formatRupiah(item.price * item.qty)}\r\n            </div>\r\n        }\r\n    }\r\n];\r\n\r\nconst addressColumns = [\r\n    {\r\n        Header : 'Nama Alamat',\r\n        accessor : alamat => {\r\n            return <div>\r\n                {alamat.nama} <br />\r\n                <small>\r\n                    {alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan},{alamat.kelurahan} <br />\r\n                    {alamat.detail}\r\n                </small>\r\n            </div>\r\n        }\r\n    }\r\n];\r\n\r\n\r\nexport default function Checkout() {\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [selectedAddress, setSelectedAddress] = useState(null);\r\n    let cart = useSelector(state => state.cart);\r\n    let {\r\n        data,\r\n        status,\r\n        limit,\r\n        page,\r\n        count,\r\n        setPage\r\n    } = useAddressData();\r\n    let history = useHistory();\r\n    let dispatch = useDispatch();\r\n\r\n    async function handleCreateOrder() {\r\n        \r\n        let payload = {\r\n            delivery_fee: config.global_ongkir,\r\n            delivery_address : selectedAddress._id\r\n        }\r\n\r\n        let {data } = await createOrder(payload);\r\nconsole.log(data);\r\n\r\n        //jika ada error\r\n    if(data?.error) return <div>{data?.error}</div>;\r\n\r\n        history.push(`/invoice/${data._id}`);\r\n        dispatch(clearItems);    \r\n    }\r\n\r\n    if (!cart.length) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    \r\n    return (\r\n        <LayoutOne>\r\n            <Topbar/>\r\n            <Text as=\"h3\">Checkout</Text>\r\n\r\n            <Steps\r\n            steps={steps}\r\n            active={activeStep}\r\n            />\r\n\r\n\r\n             {activeStep === 0 ?\r\n            <div>\r\n                 <br/><br />\r\n            <Table \r\n                items={cart}\r\n                columns={columns}\r\n                perPage={cart.length}\r\n                showPagination={false}\r\n            />\r\n\r\n            <br/>\r\n            <div className=\"text-right\">\r\n                <Text as=\"h4\"> Subtotal : {formatRupiah(sumPrice(cart))}</Text>\r\n                <br />\r\n                <Button \r\n                    onClick={_ => setActiveStep(activeStep + 1)}\r\n                    color =\"blue\"\r\n                    iconAfter={<FaArrowRight/>}\r\n                >Selanjutnya </Button>\r\n            </div>\r\n\r\n            </div> : null\r\n            }  \r\n\r\n            {activeStep === 1 ?\r\n            \r\n            \r\n            <div>\r\n               \r\n\r\n                <Table \r\n                    items ={data}\r\n                    columns={addressColumns}\r\n                    perPage={limit}\r\n                    page={page}\r\n                    onPageChange={page => setPage(page)}\r\n                    totalItems={count}\r\n                    isLoading={status === 'process'}\r\n                    selectable\r\n                    primaryKey={'_id'}\r\n                    selectedRow={selectedAddress}\r\n                    onSelectRow={item => setSelectedAddress(item)}\r\n                />\r\n\r\n\r\n                {!data.length && status === 'success' ? \r\n                <div className=\"text-center my-10\">\r\n                    <Link to=\"/alamat-pengirim/tambah\">\r\n                        Kamu belum memiliki alamat pengirim <br/> <br />\r\n                        <Button>\r\n                            Tambah Alamat\r\n                        </Button>\r\n                    </Link>\r\n                </div> : null}\r\n                <br/><br/>\r\n\r\n                <Responsive desktop={2} tablet={2} mobile={2}>\r\n                    <div>\r\n                        <Button\r\n                             onClick={_ => setActiveStep(activeStep - 1)}\r\n                             color=\"blue\"\r\n                             iconBefore={<FaArrowLeft/>}\r\n                        >\r\n                            Sebelumnya\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                        <Button \r\n                        onClick={_ => setActiveStep(activeStep + 1)}\r\n                        disabled={!selectedAddress}\r\n                        color =\"blue\"\r\n                        iconAfter={<FaArrowRight/>}\r\n                             >Selanjutnya </Button>\r\n                    </div>\r\n                </Responsive>\r\n               \r\n            </div> : null\r\n            }  \r\n\r\n            {activeStep === 2 ?\r\n            <div>\r\n                <Table\r\n                    columns={[\r\n                        {\r\n                            Header : '',\r\n                            accessor : 'label'\r\n                        },\r\n                        {\r\n                            Header : '',\r\n                            accessor : 'value'\r\n                        },\r\n                    ]}\r\n                    items={[\r\n                        {label: 'Alamat' ,value : <div>\r\n                            {selectedAddress.nama} <br />\r\n                            {selectedAddress.provinsi}, {selectedAddress.kabupaten},\r\n                            {selectedAddress.kecamatan}, {selectedAddress.kelurahan} <br/>\r\n                            {selectedAddress.detail}\r\n                        </div>},\r\n                        {label:'Subtotal',value:formatRupiah(sumPrice(cart))},\r\n                        {label:'Ongkir', value:<b>{formatRupiah(config.global_ongkir)}</b>},\r\n                        {label : 'Total', value: <b>{formatRupiah(sumPrice(cart) + parseInt(config.global_ongkir))}</b>}\r\n                    ]}\r\n                    showPagination={false}\r\n                />\r\n\r\n                <br />\r\n                <Responsive desktop={2} tablet={2} mobile={2}>\r\n                    <div>\r\n                        <Button\r\n                             onClick={_ => setActiveStep(activeStep - 1)}\r\n                             color=\"blue\"\r\n                             iconBefore={<FaArrowLeft/>}\r\n                        >\r\n                            Sebelumnya\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                        <Button\r\n                            onClick={handleCreateOrder}\r\n                            color=\"blue\"\r\n                            size=\"large\"\r\n                            iconBefore={<FaRegCheckCircle/>}\r\n                        >\r\n                            Bayar\r\n                        </Button>\r\n                    </div>\r\n                </Responsive>\r\n            </div> : null\r\n            }  \r\n\r\n           \r\n        </LayoutOne>\r\n    )\r\n}","const rules = {\r\n    nama_alamat: {\r\n        required: {value: true, message: 'Nama alamat harus diisi'},\r\n        maxLength: {value: 500, message: 'Nama alamat maksimal 500 karakter'},\r\n        minLength: {value: 5, message: 'Nama alamat minimal 5 karakter'}\r\n    },\r\n\r\n    provinsi: {\r\n        required: {value: true, message: 'Provinsi harus dipilih'}\r\n    },\r\n\r\n    kabupaten: {\r\n        required: {value: true, message: 'Kabupaten harus dipilih'}\r\n    },\r\n\r\n    kecamatan: {\r\n        required: {value: true, message: 'Kecamatan harus dipilih'}\r\n    },\r\n\r\n    kelurahan: {\r\n        required: {value: true, message: 'Kelurahan harus dipilih'}\r\n    },\r\n\r\n    detail_alamat: {\r\n        required: {value: true, message: 'Detail alamat harus dipilih'},\r\n        maxLength: {value: 1000, message: 'Alamat maksimal 1000 karakter'}\r\n    }\r\n}\r\n\r\nexport {rules};","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { config } from \"../../config\";\r\nimport { oneOf, number, oneOfType, string, shape, func } from 'prop-types';\r\nimport { Select } from 'upkit';\r\n\r\nexport default function SelectWilayah({tingkat, kodeInduk, onChange, value}) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [isFetching, setIsFetching] = useState(false);\r\n\r\n    // get api wilayah\r\n    useEffect(() => {\r\n        setIsFetching(true);\r\n\r\n        axios.get(`${config.api_host}/api/wilayah/${tingkat}?kode_induk=${kodeInduk}`)\r\n            .then(({data}) => setData(data))\r\n            .finally(_ => setIsFetching(false))\r\n\r\n    }, [kodeInduk, tingkat]);\r\n\r\n    return <Select\r\n        options={data.map(wilayah => ({label: wilayah.nama, value: wilayah.kode}))}\r\n        onChange= {onChange}\r\n        value = {value}\r\n        isLoading={isFetching}\r\n        isDisabled= {isFetching || !data.length}\r\n    />\r\n}\r\n\r\nSelectWilayah.defaultProps= {\r\n    tingkat: 'provinsi'\r\n}\r\n\r\nSelectWilayah.propTypes = {\r\n    tingkat: oneOf(['provinsi', 'kabupaten', 'kecamatan', 'desa']),\r\n    kodeInduk: oneOfType([number, string]),\r\n    onChange: func,\r\n    value: shape({label: string, value: oneOfType([string, number])})\r\n};\r\n","import React , {useEffect}from 'react'\r\nimport { rules } from \"./validations\";\r\nimport { LayoutOne, InputText, FormControl, Textarea, Button } from \"upkit\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Topbar from '../../components/Topbar';\r\nimport SelectWilayah from '../../components/SelectWilayah';\r\nimport { createAddress } from \"../../api/delivery-address\";\r\n\r\nexport default function UserAddressAdd() {\r\n\r\n    let history = useHistory();\r\n    let { handleSubmit, register, errors, setValue, watch, getValues} = useForm();\r\n\r\n    // mendengarkan perubahab field \r\n    let allFields = watch();\r\n\r\n    useEffect(() => {\r\n      register({name:'provinsi'}, rules.provinsi);\r\n      register({name:'kabupaten'}, rules.kabupaten);\r\n      register({name:'kecamatan'}, rules.kecamatan);\r\n      register({name:'kelurahan'}, rules.kelurahan);\r\n    }, [register])\r\n\r\n    useEffect(() => {\r\n        setValue('kabupaten',null);\r\n        setValue('kecamatan',null);\r\n        setValue('kelurahan',null);\r\n    }, [allFields.provinsi, setValue])\r\n\r\n    useEffect(() => {\r\n        setValue('kecamatan',null);\r\n        setValue('kelurahan',null);\r\n    }, [allFields.kabupaten, setValue])\r\n\r\n    useEffect(() => {\r\n        setValue('kelurahan',null);\r\n    }, [allFields.kecamatan, setValue])\r\n\r\n    const updateValue = (field, value ) => setValue(field, value, {shouldValidate:true, shouldDirty : true})\r\n    const onSubmit = async formData => {\r\n            let payload = {\r\n                nama : formData.nama_alamat,\r\n                detail : formData.detail_alamat,\r\n                provinsi : formData.provinsi.label,\r\n                kabupaten : formData.kabupaten.label,      \r\n                kecamatan : formData.kecamatan.label,\r\n                kelurahan : formData.kelurahan.label\r\n            }\r\n\r\n            let { data } = await createAddress(payload);\r\n\r\n            if(data.error) return ;\r\n            history.push('/alamat-pengirim')\r\n    }\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <Topbar />\r\n            <br />\r\n            <div>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <FormControl label=\"Nama Alamat \" errorMessage={errors.nama_alamat?.message} color=\"black\">\r\n                        <InputText \r\n                            placeholder=\"Nama Alamat\"\r\n                            fitContainer\r\n                            name=\"nama_alamat\"\r\n                            ref={register(rules.nama_alamat)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Provinsi\" errorMessage={errors.provinsi?.message} color=\"black\">\r\n                        <SelectWilayah \r\n                            onChange={option => updateValue('provinsi', option)}\r\n                            name=\"provinsi\"\r\n                            value={getValues().provinsi}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kabupaten/Kota\" errorMessage={errors.kabupaten?.message} color=\"black\">\r\n                        <SelectWilayah \r\n                            tingkat=\"kabupaten\"\r\n                            onChange={option => updateValue('kabupaten', option)}\r\n                            value={getValues().kabupaten}\r\n                            kodeInduk={getValues().provinsi?.value}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kecamatan\" errorMessage={errors.kecamatan?.message} color=\"black\">\r\n                        <SelectWilayah \r\n                            tingkat=\"kecamatan\"\r\n                            onChange={option => updateValue('kecamatan', option)}\r\n                            value={getValues().kecamatan}\r\n                            kodeInduk={getValues().kabupaten?.value}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kelurahan\" errorMessage={errors.kelurahan?.message} color=\"black\">\r\n                        <SelectWilayah \r\n                            tingkat=\"desa\"\r\n                            onChange={option => updateValue('kelurahan', option)}\r\n                            value={getValues().kelurahan}\r\n                            kodeInduk={getValues().kecamatan?.value}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Detail Alamat \" errorMessage={errors.detail_alamat?.message} color=\"black\">\r\n                        <Textarea\r\n                            placeholder=\"Detaill Alamat\"\r\n                            fitContainer\r\n                            name=\"detail_alamat\"\r\n                            ref={register(rules.detail_alamat)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <Button fitContainer>\r\n                        Simpan\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </LayoutOne>\r\n    )\r\n}","import React from 'react';\r\nimport Topbar from '../../components/Topbar';\r\nimport { useAddressData } from \"../../hooks/address\";\r\nimport { LayoutOne, Text, Table, Button } from \"upkit\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst columns = [\r\n    {Header: 'Nama', accessor: 'nama'},\r\n    {Header: 'Detail', accessor: alamat => {\r\n        return <div>\r\n            {alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan}, {alamat.kelurahan}<br/>\r\n            {alamat.detail}\r\n        </div>\r\n    }},\r\n]\r\n\r\nexport default function UserAddress() {\r\n\r\n    let {\r\n        data,\r\n        limit,\r\n        page,\r\n        status,\r\n        count,\r\n        setPage\r\n    } = useAddressData();\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <div>\r\n                <Topbar/>\r\n                <Text as=\"h3\">\r\n                    Alamat Pengirim\r\n                </Text>\r\n                <br/>\r\n\r\n                <Table\r\n                    items={data}\r\n                    columns={columns}\r\n                    totalItems={count}\r\n                    page={page}\r\n                    isLoading={status === 'process'}\r\n                    perPage={limit}\r\n                    onPageChange={page => setPage(page)}\r\n                />\r\n            </div>\r\n\r\n            {/* jika status sukses tetapi tidak ada datanya */}\r\n            {status === 'success' && !data.length ? <div className=\"text-center p-10\">\r\n                Kamu belum menentukan alamat Pengirim\r\n                <Link to=\"/alamat-pengirim/tambah\">\r\n                    <Button>Tambah Baru</Button>\r\n                </Link>\r\n            </div> : null}\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import axios from 'axios';\r\n\r\nimport { config } from \"../config\";\r\n\r\nexport async function getInvoiceByOrderId(order_id){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')): {}\r\n\r\n    return await axios.get(`${config.api_host}/api/invoice/${order_id}`, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    });\r\n}","import React from 'react';\r\nimport { Badge } from \"upkit\";\r\nimport {string} from 'prop-types'\r\n\r\nexport default function StatusLabel({status}) {\r\n    switch (status) {\r\n        case 'waiting_payment':\r\n            return <Badge color=\"orange\">\r\n                Menunggu Pembayaran\r\n            </Badge>\r\n            \r\n        case 'paid':\r\n            return <Badge color=\"green\">\r\n                Sudah dibayar\r\n            </Badge>\r\n\r\n        case 'processing':\r\n            return <Badge color=\"yellow\">\r\n                Sedang diproses\r\n            </Badge>\r\n        \r\n        case 'in_delivery':\r\n            return <Badge color=\"blue\">\r\n                Dalam pengiriman\r\n            </Badge>\r\n\r\n        case 'delivered':\r\n            return <Badge color=\"red\">\r\n                Pesan diterima\r\n            </Badge>\r\n    \r\n        default:\r\n            return <div></div>;\r\n    }\r\n}\r\n\r\nStatusLabel.defaultProps = {\r\n    \r\n}\r\n\r\nStatusLabel.propTypes = {\r\n    status : string.isRequired\r\n}","import React , {useState , useEffect} from 'react'\r\nimport { useRouteMatch} from 'react-router-dom'\r\nimport { getInvoiceByOrderId } from \"../../api/invoice\";\r\nimport { LayoutOne, Text, Table } from \"upkit\";\r\nimport Topbar from '../../components/Topbar';\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\nimport {config} from '../../config';\r\nimport StatusLabel from '../../components/StatusLabel';\r\nimport { formatRupiah } from \"../../utils/format-rupiah\";\r\n\r\nexport default function Invoice() {\r\n\r\n    const [invoice, setInvoice] = useState(null)\r\n    const [error, setError] = useState('')\r\n    const [status, setStatus] = useState('process')\r\n    let {params } = useRouteMatch();\r\n\r\n    useEffect(() => {\r\n      getInvoiceByOrderId(params?.order_id)\r\n      .then(({data}) => {\r\n          if (data?.error) {\r\n              setError(data.message || \"Terjadi kesalahan yang tidak dietahui\");\r\n          }\r\n\r\n          setInvoice(data);\r\n      })\r\n      .finally(() => setStatus('idle'))\r\n    }, []);\r\n\r\n    if (error.length) {\r\n        return (\r\n            <LayoutOne>\r\n                <Topbar/>\r\n                <Text as='h3'>Terjadi Kesalahan</Text>\r\n                {error}\r\n            </LayoutOne>\r\n        ) \r\n    }\r\n\r\n    if (status === 'process') {\r\n        return <LayoutOne>\r\n            <div className=\"text-center py-10\">\r\n                <div className=\"inline-block\">\r\n                    <BounceLoader color=\"blue\" />\r\n                </div>\r\n            </div>\r\n        </LayoutOne>\r\n    }\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <Topbar />\r\n            <Text as=\"h3\" >Invoice</Text>\r\n            <br />\r\n\r\n            <Table\r\n                showPagination={false}\r\n                items={[\r\n                    {label:'Status',value: <StatusLabel status={invoice?.payment_status} />},\r\n                    {label:'Order ID',value: '#' + invoice?.order?.order_number },\r\n                    {label:'Total amount',value: formatRupiah(invoice?.total) },\r\n                    {label:'Billed to',value: <div>\r\n                        <b>{invoice?.user?.full_name}</b><br />\r\n                        <b>{invoice?.user?.email}</b><br />\r\n                        <b>{invoice?.delivery_address?.detail}</b><br />\r\n                        <b>{invoice?.delivery_address?.kelurahan}</b><br />\r\n                        <b>{invoice?.delivery_address?.kecamatan}</b><br />\r\n                        <b>{invoice?.delivery_address?.kabupaten}</b><br />\r\n                        <b>{invoice?.delivery_address?.provinsi}</b><br />\r\n                    </div>},\r\n                    {label:'Payment to',value:<div>\r\n                        {config.owner} <br/>\r\n                        {config.contact} <br/>\r\n                        {config.billing.account_no} <br/>\r\n                        {config.billing.bank_name}\r\n                    </div>}\r\n                ]}\r\n                columns={[\r\n                    {Header : 'Invoice', accessor:'label'},\r\n                    {Header : '', accessor:'value'},\r\n                ]}\r\n            />\r\n        </LayoutOne>\r\n    )\r\n    \r\n}","import React from 'react';\r\nimport { LayoutOne, Text, Card, Responsive } from \"upkit\";\r\nimport Topbar from '../../components/Topbar';\r\nimport FaHome from '@meronex/icons/fa/FaHome';\r\nimport FaAddressBook from '@meronex/icons/fa/FaAddressBook';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaFileInvoice from '@meronex/icons/fa/FaFileInvoice';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst IconWrapper = ({children}) => {\r\n    return <div className=\"text-white text-5xl flex justify-center mb-5\">\r\n        {children}\r\n    </div>\r\n};\r\n\r\nconst menus = [\r\n    {label:'Beranda', value:<IconWrapper><FaHome/></IconWrapper>, url: '/'},\r\n    {label:'Alamat', value:<IconWrapper><FaAddressBook/></IconWrapper>, url: '/alamat-pengirim'},\r\n    {label:'Pesanan', value:<IconWrapper><FaFileInvoice/></IconWrapper>, url: '/pesanan'},\r\n    {label:'Logout', value:<IconWrapper><FaArrowRight/></IconWrapper>, url: '/logout'},\r\n];\r\n\r\nexport default function UserAccount() {\r\n    return (\r\n        <LayoutOne>\r\n            <Topbar/>\r\n            <Text as=\"h3\">Akun Anda</Text>\r\n            <br/>\r\n\r\n            <Responsive desktop={4} mobile={4} tablet={4}>\r\n                {menus.map((menu, index) => {\r\n                    return <div key={index} className=\"px-2 pb-2\">\r\n                        <Link to={menu.url}>\r\n                            <Card\r\n                                header={menu.value}\r\n                                body={<div className=\"text-center font-bold text-white\">\r\n                                    {menu.label}\r\n                                </div>}\r\n                            />\r\n                        </Link>\r\n                    </div>\r\n                })}\r\n            </Responsive>\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import React, {useState, useCallback, useEffect} from 'react';\r\nimport { LayoutOne, Text, Table, Button } from \"upkit\";\r\nimport Topbar from '../../components/Topbar';\r\nimport StatusLabel from '../../components/StatusLabel';\r\nimport { formatRupiah } from \"../../utils/format-rupiah\";\r\nimport { sumPrice } from \"../../utils/sum-price\";\r\nimport { Link } from 'react-router-dom';\r\nimport { getOrders } from \"../../api/order\";\r\nimport FaFileInvoiceDollar from '@meronex/icons/fa/FaFileInvoiceDollar';\r\n\r\nconst columns = [\r\n    {\r\n        Header: '',\r\n        id: 'Status',\r\n        accessor:  order => {\r\n            return <div>\r\n                #{order.order_number}<br/>\r\n                <StatusLabel status={order.status} />\r\n            </div>\r\n        },\r\n\r\n        Header: 'Items',\r\n        accessor:  order => {\r\n            return <div>\r\n                #{order.order_items.map(item => {\r\n                    return <div key={item._id}>\r\n                        {item.name} {item.qty}\r\n                    </div>\r\n                })}<br/>\r\n            </div>\r\n        },\r\n\r\n        Header: 'Total',\r\n        accessor:  order => {\r\n            return <div>\r\n                {formatRupiah(sumPrice(order.order_items) + order.delivery_fee)}\r\n            </div>\r\n        },\r\n\r\n        Header: 'Invoice',\r\n        accessor:  order => {\r\n            return <div>\r\n                <Link to={`/invoice/${order._id}`}>\r\n                    <Button color=\"gray\" iconBefore={<FaFileInvoiceDollar/>}>\r\n                        Invoice\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n        },\r\n    }\r\n]\r\n\r\nexport default function UserOrders() {\r\n\r\n    const [pesanan, setPesanan] = useState([]);\r\n    const [count, setCount] = useState(0);\r\n    const [status, setStatus] = useState('idle');\r\n    const [page, setPage] = useState(1);\r\n    const [limit, setLimit] = useState(10);\r\n\r\n    const fetchPesanan = useCallback(\r\n        async () => {\r\n            setStatus('process');\r\n\r\n            let {data} = await getOrders({limit, page});\r\n\r\n            if(data.error){\r\n                setStatus('error');\r\n                return;\r\n            }\r\n\r\n            setStatus('success');\r\n            setPesanan(data.data);\r\n            setCount(data.count);\r\n        },\r\n        [page, limit]\r\n    );\r\n\r\n    useEffect(() => {\r\n        fetchPesanan();\r\n    }, [fetchPesanan])\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <Topbar/>\r\n            <Text as=\"h3\">Pesanan Anda</Text>\r\n            <br/>\r\n\r\n            <Table\r\n                items={pesanan}\r\n                totalItems={count}\r\n                columns={columns}\r\n                onPageChange={page => setPage(page)}\r\n                page={page}\r\n                isLoading={status === 'process'}\r\n            />\r\n\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport { LayoutOne } from \"upkit\";\r\nimport Topbar from '../../components/Topbar';\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\nimport { logout } from '../../api/auth';\r\nimport { userLogout } from \"../../features/Auth/actions\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function Logout() {\r\n\r\n    let dispatch = useDispatch();\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        logout()\r\n        .then(() => dispatch(userLogout()))\r\n        .then(() => history.push('/'))\r\n    }, [history, logout])\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <div className=\"text-center flex flex-col justify-center items-center\">\r\n                <BounceLoader color=\"red\" />\r\n                <br/>\r\n                Logging out\r\n            </div>\r\n        </LayoutOne>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect} from 'react-router-dom';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function GuardRoute({children, ...rest}) {\r\n\r\n    let {user} = useSelector(state => state.auth)\r\n\r\n    return (\r\n        <Route {...rest}>\r\n            {user ? children : <Redirect to=\"/login\" />}\r\n        </Route>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect} from 'react-router-dom';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function GuestOnlyRoute({children, ...rest}) {\r\n\r\n    let {user} = useSelector(state => state.auth);\r\n\r\n    return (\r\n        <Route {...rest}>\r\n            {!user ? children : <Redirect to=\"/login\" />}\r\n        </Route>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react';\nimport logo from './logo.svg';\nimport 'upkit/dist/style.min.css';\nimport { HashRouter as Router, Route, Switch, NavLink, Link } from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './app/store';\nimport {listen} from './app/listener';\nimport Home from './pages/Home';\nimport Register from './pages/Register'\nimport RegisterSuccess from './pages/RegisterSuccess';\nimport Login from './pages/Login';\nimport { getCart } from \"./api/cart\";\nimport Checkout from './pages/Checkout';\nimport UserAddressAdd from './pages/UserAddressAdd';\nimport UserAddress from './pages/UserAddress';\nimport Invoice from './pages/Invoice';\nimport UserAccount from './pages/UserAccount';\nimport UserOrders from './pages/UserOrders';\nimport Logout from './pages/Logout';\nimport GuardRoute from './components/GuardRoute';\nimport GuestOnlyRoute from './components/GuestOnlyRoute';\n\nfunction App() {\n\n  // panggil func listen sekali saja ketika komponen selesai di render pertama kali\n  useEffect(() => {\n    listen()\n    getCart();\n\n  }, [])\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <Switch>\n          <Route path=\"/\" component={Home} exact />\n          <GuestOnlyRoute path=\"/register\">\n            <Register/>\n          </GuestOnlyRoute>\n          <GuestOnlyRoute path=\"/register/berhasil\">\n            <RegisterSuccess/>\n          </GuestOnlyRoute>\n          <GuestOnlyRoute path=\"/login\">\n            <Login />\n          </GuestOnlyRoute>\n          <GuardRoute path=\"/checkout\">\n            <Checkout />\n          </GuardRoute>\n          <GuardRoute path=\"/alamat-pengirim/tambah\">\n            <UserAddressAdd />\n          </GuardRoute>\n          <GuardRoute path=\"/alamat-pengirim\">\n            <UserAddress />\n          </GuardRoute>\n          <GuardRoute path=\"/account\">\n            <UserAccount />\n          </GuardRoute>\n          <Route path=\"/pesanan\">\n            <GuardRoute>\n              <UserOrders />  \n            </GuardRoute>\n          </Route>\n          <GuardRoute path=\"/invoice/:order_id\">\n            <Invoice />\n          </GuardRoute>\n          <GuardRoute path=\"/logout\">\n            <Logout />\n          </GuardRoute>\n        </Switch>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport './styles/tailwind.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}